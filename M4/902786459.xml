<!-- Samarth's M4 Ant File -->

<project name="M4" basedir="." default="all">

	<target name="init">
		<property name="src.dir"         value="src"/>
	    <property name="build.dir"       value="build"/>
		<property name="apidoc.dir" 	 value="apidoc"/>
	    <property name="lib.dir"         value="lib"/>
	 </target>
	
	<target name="prepare" depends="init">			
		<mkdir dir="${build.dir}"/>
		<mkdir dir="${apidoc.dir}"/>
	</target>
	
	<target name="compile" depends="prepare">
        <javac  srcdir = "${src.dir}" 
        		destdir="${build.dir}" 
        		classpath="${lib.dir}/resources.jar" 
        		includeAntRuntime = "false"/>
	</target>	
	
	
	<target name="javadoc" depends="compile">
    	<javadoc 
            sourcepath="${src.dir}" 
            destdir="${build.dir}/apidoc"
    		classpath="${lib.dir}/resources.jar"
    	/>
	</target>
	
	
	<target name="jar" depends="compile">
    		<jar basedir="${build.dir}" destfile="${build.dir}/AntLabRun.jar"/>
        			<manifest>
                		<attribute name="main" value="edu.gatech.oad.antlab.pkg1.AntLabMain"/>
               			<attribute name="class" value="resources.jar"/>
        			</manifest>
	</target>	
	
	
	<target name="run" depends="compile,jar">
		<java jar="${build.dir}/AntLabRun.jar" fork="true"/>
	 </target>
	
	<target name="all" depends="run, javadoc"/>
	
	<target name="clean" depends="init">
		<delete dir = "{build.dir}"/>
		<delete dir = "{apidoc.dir}"/>
	</target>
	
</project>